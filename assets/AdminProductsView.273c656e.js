import{_ as k,d as n,r as w,o as l,c as s,b as t,w as d,v as h,i as b,F as g,f as p,e as m,t as u,j as x,k as v,p as C,a as A,h as V}from"./index.5c2b922f.js";const P={data(){return{lista_articulos:[],lista_categorias:[],lista_marcas:[],switchProductos:!1,id_articulo:null,imagen:"",nombre:"",precio:0,cantidad:0,garantia:0,categoria_id:1,marca_id:1,status_edition:!1,switchProductos:!1}},mounted(){this.getProducts(),this.getCategorias(),this.getMarcas()},methods:{getProducts(){n.get("https://xforcegaming.herokuapp.com/home/articulos").then(i=>{this.lista_articulos=i.data,this.switchProductos=!0}).catch(i=>{console.log(i)})},getCategorias(){n.get("https://xforcegaming.herokuapp.com/home/categorias").then(i=>{this.lista_categorias=i.data}).catch(i=>{console.log(i)})},getMarcas(){n.get("https://xforcegaming.herokuapp.com/home/marcas").then(i=>{this.lista_marcas=i.data}).catch(i=>{console.log(i)})},async get_categoria(i){return await n.get(`https://xforcegaming.herokuapp.com/home/categorias/${i}`).then(a=>a.data).catch(a=>{console.log(a)})},async get_marca(i){return await n.get(`https://xforcegaming.herokuapp.com/home/marcas/${i}`).then(a=>a.data).catch(a=>{console.log(a)})},async agregar_articulo(){let i=await this.get_categoria(this.categoria_id),a=await this.get_marca(this.marca_id);n.post("https://xforcegaming.herokuapp.com/home/articulos",{img_url:this.imagen,nombre:this.nombre,precio:this.precio,cantidad:this.cantidad,garantia:`${parseInt(this.garantia)===1?this.garantia+" a\xF1o":this.garantia+" a\xF1os"}`,categoria_id:i,marcas_id:a,activo:!0}).then(_=>{this.getProducts(),alert("Se ha registrado satisfactoriamente el articulo")}).catch(_=>{alert("No se ha podido registrar el articulo")})},eliminar_articulo(i){n.delete(`https://xforcegaming.herokuapp.com/home/articulos/${i}`).then(a=>{this.getProducts(),alert("Se elimino el articulo satisfactoriamente")}).catch(a=>{alert("No se ha podido eliminar el articulo")})},quitar_edicion(){this.status_edition=!1,this.id_articulo=null,this.imagen="",this.nombre="",this.precio=0,this.cantidad=0,this.garantia=0,this.categoria_id=1,this.marca_id=1},separar_garantia(i){return i.includes(" a\xF1os")?i.replace(" a\xF1os",""):i.replace(" a\xF1o","")},editar_articulo(i){this.status_edition=!0,n.get(`https://xforcegaming.herokuapp.com/home/articulos/${i}`).then(a=>{this.id_articulo=a.data.id,this.imagen=a.data.img_url,this.nombre=a.data.nombre,this.precio=a.data.precio,this.cantidad=a.data.cantidad,this.garantia=this.separar_garantia(a.data.garantia),this.categoria_id=a.data.categoria_id.id,this.marca_id=a.data.marcas_id.id}).catch(a=>{alert(a)})},async guardar_articulo(){let i=await this.get_categoria(this.categoria_id),a=await this.get_marca(this.marca_id);n.put(`https://xforcegaming.herokuapp.com/home/articulos/${this.id_articulo}`,{img_url:this.imagen,nombre:this.nombre,precio:this.precio,cantidad:this.cantidad,garantia:`${parseInt(this.garantia)===1?this.garantia+" a\xF1o":this.garantia+" a\xF1os"}`,categoria_id:i,marcas_id:a,activo:!0}).then(_=>{this.getProducts(),this.quitar_edicion(),alert("Se ha editado satisfactoriamente el articulo")}).catch(_=>{alert("No se ha podido editar el articulo")})}}},r=i=>(C("data-v-1578e492"),i=i(),A(),i),I={class:"container"},N={class:"wrap"},E=r(()=>t("h2",null,"Formulario de productos",-1)),D=r(()=>t("div",{class:"linea"},null,-1)),F={width:"500px",style:{"margin-left":"auto","margin-right":"auto"}},S=r(()=>t("th",{style:{"text-align":"left"},width:"50%"},"IMAGEN",-1)),U={width:"50%"},M=r(()=>t("th",{style:{"text-align":"left"}},"NOMBRE",-1)),R=r(()=>t("th",{style:{"text-align":"left"}},"PRECIO",-1)),q=r(()=>t("th",{style:{"text-align":"left"}},"CANTIDAD",-1)),B=r(()=>t("th",{style:{"text-align":"left"}},"GARANTIA",-1)),G=r(()=>t("th",{style:{"text-align":"left"}},"CATEGORIA",-1)),T=["value"],O=r(()=>t("th",{style:{"text-align":"left"}},"MARCA",-1)),j=["value"],L=r(()=>t("br",null,null,-1)),z=r(()=>t("br",null,null,-1)),H={style:{"margin-left":"auto","margin-right":"auto"}},J={key:0},K={key:1},Q=r(()=>t("br",null,null,-1)),W=r(()=>t("br",null,null,-1)),X=r(()=>t("br",null,null,-1)),Y=r(()=>t("br",null,null,-1)),Z=r(()=>t("h2",null,"todos los productos",-1)),$=r(()=>t("div",{class:"linea"},null,-1)),tt={border:"1",width:"100%"},at=r(()=>t("thead",null,[t("tr",null,[t("th",null,"id"),t("th",null,"imagen"),t("th",null,"nombre"),t("th",null,"precio"),t("th",null,"cantidad"),t("th",null,"garantia"),t("th",null,"categoria"),t("th",null,"Eliminar"),t("th",null,"Editar")])],-1)),et={key:0},it=r(()=>t("th",{colspan:"9"},[t("img",{src:V,alt:"cargando",width:"150"})],-1)),ot=[it],rt={valign:"middle"},lt=["src"],st=["onClick"],nt=["onClick"];function ct(i,a,_,dt,o,c){const y=w("center");return l(),s("section",I,[t("div",N,[E,D,t("table",F,[t("tbody",null,[t("tr",null,[t("th",null,[d(t("input",{type:"hidden","onUpdate:modelValue":a[0]||(a[0]=e=>o.id_articulo=e)},null,512),[[h,o.id_articulo]])])]),t("tr",null,[S,t("td",U,[d(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>o.imagen=e)},null,512),[[h,o.imagen]])])]),t("tr",null,[M,t("td",null,[d(t("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=e=>o.nombre=e)},null,512),[[h,o.nombre]])])]),t("tr",null,[R,t("td",null,[d(t("input",{type:"number","onUpdate:modelValue":a[3]||(a[3]=e=>o.precio=e)},null,512),[[h,o.precio]])])]),t("tr",null,[q,t("td",null,[d(t("input",{type:"number","onUpdate:modelValue":a[4]||(a[4]=e=>o.cantidad=e)},null,512),[[h,o.cantidad]])])]),t("tr",null,[B,t("td",null,[d(t("input",{type:"number","onUpdate:modelValue":a[5]||(a[5]=e=>o.garantia=e)},null,512),[[h,o.garantia]])])]),t("tr",null,[G,t("td",null,[d(t("select",{style:{width:"100%"},"onUpdate:modelValue":a[6]||(a[6]=e=>o.categoria_id=e)},[(l(!0),s(g,null,p(o.lista_categorias,e=>(l(),s("option",{key:e.id,value:e.id},u(e.nombre),9,T))),128))],512),[[b,o.categoria_id]])])]),t("tr",null,[O,t("td",null,[d(t("select",{style:{width:"100%"},"onUpdate:modelValue":a[7]||(a[7]=e=>o.marca_id=e)},[(l(!0),s(g,null,p(o.lista_marcas,e=>(l(),s("option",{key:e.id,value:e.id},u(e.nombre),9,j))),128))],512),[[b,o.marca_id]])])])])]),L,z,t("table",H,[t("tr",null,[o.status_edition==!1?(l(),s("td",J,[t("button",{onClick:a[8]||(a[8]=(...e)=>c.agregar_articulo&&c.agregar_articulo(...e)),style:{background:"#0D6EFD",color:"white",cursor:"pointer"}},"Agregar")])):m("",!0),o.status_edition==!0?(l(),s("td",K,[t("button",{onClick:a[9]||(a[9]=(...e)=>c.guardar_articulo&&c.guardar_articulo(...e)),style:{background:"#FFC107",color:"black",cursor:"pointer"}},"Guardar"),t("button",{onClick:a[10]||(a[10]=(...e)=>c.quitar_edicion&&c.quitar_edicion(...e)),style:{background:"#6C757D",color:"white",cursor:"pointer"}},"Cancelar")])):m("",!0)])]),Q,W,X,Y,Z,$,t("table",tt,[at,t("tbody",null,[o.switchProductos?m("",!0):(l(),s("tr",et,ot)),(l(!0),s(g,null,p(o.lista_articulos,e=>(l(),s("tr",{key:e.id},[e.activo!==!1?(l(),s(g,{key:0},[t("th",null,u(e.id),1),t("td",rt,[x(y,null,{default:v(()=>[t("img",{src:e.img_url,style:{width:"100px"},alt:"No hay imagen del producto"},null,8,lt)]),_:2},1024)]),t("td",null,u(e.nombre),1),t("td",null,"s./"+u(e.precio),1),t("td",null,u(e.cantidad),1),t("td",null,u(e.garantia),1),t("th",null,u(e.categoria_id.nombre),1),t("td",null,[t("button",{onClick:f=>c.eliminar_articulo(e.id),style:{background:"#DC3545",color:"white"}},"Eliminar",8,st)]),t("td",null,[t("button",{onClick:f=>c.editar_articulo(e.id),style:{background:"#FFC107",color:"black"}},"Editar",8,nt)])],64)):m("",!0)]))),128))])])])])}const ht=k(P,[["render",ct],["__scopeId","data-v-1578e492"]]);export{ht as default};
